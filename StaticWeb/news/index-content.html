<meta charset="UTF-8">
<link rel="stylesheet" href="css/index-content.css">
<div id="content">
    <div id="news_title_bar" class="row">
        <div class="row">
            <p id="news_title">{{info.n_title}}</p>
        </div>
        <div class="row">
            <p>作者:<a id="author_name" :href="'/user/detail/'+info.n_authorObject.u_id">{{info.n_authorObject.u_nick}}</a></p>
        </div>
        <div class="row">
            <p id="news_time">{{new Date(info.n_date).toString()}}</p>
        </div>

    </div>
    <div id="news_content" class="row">
        <p>{{info.n_content}}</p>
    </div>
</div>
<script>

    var newsDetail=new Vue({
        el:'#content',
        data:{
            info:{
                n_title:'',
                n_author:'',
                n_authorObject:{
                    u_id:-1,
                    u_nick:'null'
                },
                n_date:'',
                n_content:''
            }
        }
    });
    $(function () {
        // $('.img_news_area * img').addClass("img-responsive");
        // $('.img_news_area').addClass("visible-lg");
    })
    $(document).ready(function () {
        // alert(location.pathname);
        var path=location.pathname.split('/');
        $.ajax({
            url:backSideURL+"api/news/detail",
            method:"POST",
            dataType:"json",
            contentType:"application/json; charset=UTF-8",
            data:'{"newsId":'+path[path.length-1]+'}',
            xhrFields:{
                withCredentials:true
            },
            success:successNews
        });
    });
    function successNews(data) {
        var json=eval(data);
        if(json.code===100) {
            newsDetail.info=json.object;
            debugger;
        }
    }
</script>